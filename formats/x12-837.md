# X12 837 Claim Format

## Trigger Phrases

- 837
- X12 837
- X12 claim
- EDI claim
- 837P
- 837I
- professional claim format
- institutional claim format
- electronic claim

## Overview

X12 837 is the HIPAA-mandated standard for electronic healthcare claim submission. This skill transforms HealthSim claim entities into compliant 837 transactions.

## Transaction Types

| Type | Use | Claim Type |
|------|-----|------------|
| 837P | Professional claims | Physician, outpatient |
| 837I | Institutional claims | Hospital, facility |
| 837D | Dental claims | Dental services |

## Envelope Structure

```
ISA - Interchange Control Header
  GS - Functional Group Header
    ST - Transaction Set Header
      BHT - Beginning of Hierarchical Transaction
      Loop 1000A - Submitter
      Loop 1000B - Receiver
      Loop 2000A - Billing Provider Hierarchical Level
        Loop 2010AA - Billing Provider
        Loop 2010AB - Pay-to Address (if different)
        Loop 2000B - Subscriber Hierarchical Level
          Loop 2010BA - Subscriber
          Loop 2010BB - Payer
          Loop 2300 - Claim Information
            Loop 2310 - Providers
            Loop 2320 - Other Subscriber (COB)
            Loop 2400 - Service Line
    SE - Transaction Set Trailer
  GE - Functional Group Trailer
IEA - Interchange Control Trailer
```

## Key Segments

### ISA - Interchange Control Header
```
ISA*00*          *00*          *ZZ*SENDER         *ZZ*RECEIVER       *250115*1430*^*00501*000000001*0*P*:~
```

| Element | Position | Description | Example |
|---------|----------|-------------|---------|
| Authorization Qualifier | ISA01 | 00=No authorization | `00` |
| Security Qualifier | ISA03 | 00=No security | `00` |
| Interchange ID Qualifier | ISA05/07 | ZZ=Mutually defined | `ZZ` |
| Sender ID | ISA06 | Sender identifier | `SUBMITTER_ID` |
| Receiver ID | ISA08 | Receiver identifier | `PAYER_ID` |
| Date | ISA09 | YYMMDD | `250115` |
| Time | ISA10 | HHMM | `1430` |
| Standard ID | ISA11 | Repetition separator | `^` |
| Version | ISA12 | 00501 for 5010 | `00501` |
| Control Number | ISA13 | Unique 9 digits | `000000001` |
| Acknowledgment | ISA14 | 0=No, 1=Yes | `0` |
| Usage | ISA15 | P=Production, T=Test | `P` |
| Element Separator | ISA16 | Usually colon | `:` |

### GS - Functional Group Header
```
GS*HC*SENDER*RECEIVER*20250115*1430*1*X*005010X222A1~
```

| Element | Description | 837P | 837I |
|---------|-------------|------|------|
| GS01 | Functional ID | HC | HC |
| GS08 | Version | 005010X222A1 | 005010X223A2 |

### ST - Transaction Set Header
```
ST*837*0001*005010X222A1~
```

### BHT - Beginning of Hierarchical Transaction
```
BHT*0019*00*BATCH001*20250115*1430*CH~
```

| Element | Description | Value |
|---------|-------------|-------|
| BHT01 | Hierarchical Structure | 0019 |
| BHT02 | Transaction Purpose | 00=Original |
| BHT03 | Reference ID | Batch identifier |
| BHT06 | Transaction Type | CH=Chargeable |

## 837P Professional Claim

### Loop 2300 - Claim Information
```
CLM*CLM20250115001*175***11:B:1*Y*A*Y*Y~
HI*ABK:I10~
HI*ABF:E78.5~
```

| Segment | Element | Description |
|---------|---------|-------------|
| CLM01 | Claim ID | Patient control number |
| CLM02 | Total charge | Total claim amount |
| CLM05 | Place of service | POS:Freq:Type (11:B:1) |
| CLM06 | Provider signature | Y=Yes |
| CLM07 | Assignment | A=Assigned |
| CLM08 | Benefits assignment | Y=Yes |
| CLM09 | Release of info | Y=Yes |
| HI*ABK | Principal diagnosis | ICD-10 code |
| HI*ABF | Other diagnosis | ICD-10 code |

### Loop 2400 - Service Line
```
LX*1~
SV1*HC:99214*125*UN*1***1~
DTP*472*D8*20250115~
REF*6R*ENC0000000001~
```

| Segment | Element | Description |
|---------|---------|-------------|
| LX01 | Line number | Sequence 1, 2, 3... |
| SV101 | Procedure code | HC:CPT:Modifier |
| SV102 | Line charge | Amount |
| SV103 | Unit basis | UN=Unit |
| SV104 | Quantity | Number of units |
| SV107 | Diagnosis pointer | Points to HI segment |
| DTP*472 | Service date | Date of service |

### Complete 837P Example
```
ISA*00*          *00*          *ZZ*SUBMITTER      *ZZ*PAYER          *250115*1430*^*00501*000000001*0*P*:~
GS*HC*SUBMITTER*PAYER*20250115*1430*1*X*005010X222A1~
ST*837*0001*005010X222A1~
BHT*0019*00*BATCH001*20250115*1430*CH~
NM1*41*2*BILLING PROVIDER NAME*****46*1234567890~
PER*IC*CONTACT NAME*TE*5551234567~
NM1*40*2*PAYER NAME*****46*PAYER01~
HL*1**20*1~
NM1*85*2*BILLING PROVIDER NAME*****XX*1234567890~
N3*123 PROVIDER STREET~
N4*SPRINGFIELD*IL*627010000~
REF*EI*123456789~
HL*2*1*22*0~
SBR*P*18*GROUP001******CI~
NM1*IL*1*SMITH*JOHN****MI*MEM001234~
N3*456 MEMBER STREET~
N4*SPRINGFIELD*IL*627020000~
DMG*D8*19780315*M~
NM1*PR*2*PAYER NAME*****PI*PAYER01~
CLM*CLM20250115001*175***11:B:1*Y*A*Y*Y~
DTP*431*D8*20250115~
HI*ABK:I10~
HI*ABF:E78.5~
NM1*82*1*RENDERING*PROVIDER*MD***XX*9876543210~
LX*1~
SV1*HC:99214*175*UN*1***1~
DTP*472*D8*20250115~
SE*28*0001~
GE*1*1~
IEA*1*000000001~
```

## 837I Institutional Claim

### CL1 - Institutional Claim Code
```
CL1*1*1*01~
```

| Element | Description | Value |
|---------|-------------|-------|
| CL101 | Admission Type | 1=Emergency, 2=Urgent, 3=Elective |
| CL102 | Admission Source | 1=Physician referral, 7=ER |
| CL103 | Discharge Status | 01=Home, 20=Expired |

### Loop 2400 - Service Line (Institutional)
```
LX*1~
SV2*0120*HC:99223*1800*UN*4~
DTP*472*RD8*20250110-20250114~
```

| Segment | Element | Description |
|---------|---------|-------------|
| SV201 | Revenue code | 4-digit revenue code |
| SV202 | Procedure code | HC:CPT (optional) |
| SV203 | Line charge | Amount |
| SV205 | Units | Number of units |
| DTP*472*RD8 | Date range | Start-End dates |

### Complete 837I Example (Abbreviated)
```
ISA*00*          *00*          *ZZ*SUBMITTER      *ZZ*PAYER          *250115*1430*^*00501*000000001*0*P*:~
GS*HC*SUBMITTER*PAYER*20250115*1430*1*X*005010X223A2~
ST*837*0001*005010X223A2~
BHT*0019*00*BATCH002*20250115*1430*CH~
...
CLM*CLM20250115002*45000***11:A:1*Y*A*Y*Y*P~
DTP*434*RD8*20250110-20250115~
CL1*1*7*01~
HI*ABK:I50.23~
HI*ABF:I10*ABF:E11.9*ABF:N18.3~
HI*BG:I50.9~
HI*BP:0~
LX*1~
SV2*0120*HC:99223*1800*UN*4~
DTP*472*RD8*20250110-20250114~
LX*2~
SV2*0150**4500*UN*1~
DTP*472*D8*20250114~
LX*3~
SV2*0250**3200*UN*1~
DTP*472*RD8*20250110-20250115~
SE*35*0001~
GE*1*1~
IEA*1*000000001~
```

## Diagnosis Code Qualifiers (HI Segment)

| Qualifier | Description | Use |
|-----------|-------------|-----|
| ABK | Principal diagnosis | ICD-10 (837P) |
| ABF | Other diagnosis | ICD-10 (837P) |
| BK | Principal diagnosis | ICD-10 (837I) |
| BF | Other diagnosis | ICD-10 (837I) |
| BG | Admitting diagnosis | ICD-10 (837I) |
| BP | Principal procedure | ICD-10-PCS (837I) |
| BO | Other procedure | ICD-10-PCS (837I) |

## Place of Service Codes

| Code | Description | CLM05 |
|------|-------------|-------|
| 11 | Office | 11:B:1 |
| 21 | Inpatient Hospital | 21:A:1 |
| 22 | Outpatient Hospital | 22:B:1 |
| 23 | Emergency Room | 23:B:1 |
| 24 | ASC | 24:B:1 |
| 31 | SNF | 31:A:1 |

## Transformation from JSON

### Input (HealthSim Claim)
```json
{
  "claim": {
    "claim_id": "CLM20250115001",
    "claim_type": "PROFESSIONAL",
    "member_id": "MEM001234",
    "provider_npi": "1234567890",
    "service_date": "2025-01-15",
    "place_of_service": "11",
    "principal_diagnosis": "I10",
    "other_diagnoses": ["E78.5"],
    "claim_lines": [
      {
        "line_number": 1,
        "procedure_code": "99214",
        "charge_amount": 175.00,
        "units": 1
      }
    ]
  }
}
```

### Output (837P Key Segments)
```
CLM*CLM20250115001*175***11:B:1*Y*A*Y*Y~
HI*ABK:I10~
HI*ABF:E78.5~
LX*1~
SV1*HC:99214*175*UN*1***1~
DTP*472*D8*20250115~
```

## Validation Rules

1. **ISA/IEA must match**: Control numbers must be identical
2. **GS/GE must match**: Group control numbers must match
3. **ST/SE must match**: Transaction control numbers must match
4. **Segment counts**: SE01 must equal actual segment count
5. **Required loops**: 2000A, 2000B, 2300, 2400 required
6. **NPI validation**: Must be 10 digits with valid check digit
7. **ICD-10 format**: Must be valid ICD-10 code format

## Related Skills

- [x12-835.md](x12-835.md) - Remittance/payment
- [fhir-r4.md](fhir-r4.md) - FHIR Claim resource
- [../skills/membersim/professional-claims.md](../skills/membersim/professional-claims.md) - Claim data
- [../skills/membersim/facility-claims.md](../skills/membersim/facility-claims.md) - Facility claims
